!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return r(n||t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i,r,o=[].slice,s={}.toString;function a(t,e){var n={}.hasOwnProperty;for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t}i=t("./presets").presets,r=function(t){return"data:image/svg+xml;base64,"+btoa(t)},function(){var t,e,n;t={head:function(t){return'<?xml version="1.0" encoding="utf-8"?>\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="'+t+'">'},gradient:function(t,e){var n,i,s,a,l,u,d,h,c,f;for(null==t&&(t=45),null==e&&(e=1),n=o.call(arguments,2),i=[this.head("0 0 100 100")],s=4*n.length+1,t=t*Math.PI/180,a=Math.pow(Math.cos(t),2),l=Math.sqrt(a-Math.pow(a,2)),t>.25*Math.PI&&(l=Math.pow(Math.sin(t),2),a=Math.sqrt(l-Math.pow(l,2))),u=100*a,d=100*l,i.push('<defs><linearGradient id="gradient" x1="0" x2="'+a+'" y1="0" y2="'+l+'">'),h=0;h<s;++h)f=100*(c=h)/(s-1),i.push('<stop offset="'+f+'%" stop-color="'+n[c%n.length]+'"/>');return i.push('</linearGradient></defs>\n<rect x="0" y="0" width="400" height="400" fill="url(#gradient)">\n<animateTransform attributeName="transform" type="translate" from="-'+u+",-"+d+'"\nto="0,0" dur="'+e+'s" repeatCount="indefinite"/></rect></svg>'),r(i.join(""))},stripe:function(t,e,n){var i,o;return null==t&&(t="#b4b4b4"),null==e&&(e="#e6e6e6"),null==n&&(n=1),i=(i=[this.head("0 0 100 100")]).concat(['<rect fill="'+e+'" width="100" height="100"/>',"<g><g>",function(){var e,n=[];for(e=0;e<13;++e)o=e,n.push('<polygon fill="'+t+'" points="'+(20*o-90)+",100 "+(20*o-100)+",100 "+(20*o-60)+",0 "+(20*o-50)+',0 "/>');return n}().join(""),'</g><animateTransform attributeName="transform" type="translate" ','from="0,0" to="20,0" dur="'+n+'s" repeatCount="indefinite"/></g></svg>'].join("")),r(i)},bubble:function(t,e,n,i,o,s){var a,l,u,d,h,c;for(null==t&&(t="#39d"),null==e&&(e="#9cf"),null==n&&(n=15),null==i&&(i=1),null==o&&(o=6),null==s&&(s=1),a=[this.head("0 0 200 200"),'<rect x="0" y="0" width="200" height="200" fill="'+t+'"/>'],l=0;l<n;++l)u=-l/n*i,d=184*Math.random()+8,h=(.7*Math.random()+.3)*o,c=i*(1+.5*Math.random()),a.push(['<circle cx="'+d+'" cy="0" r="'+h+'" fill="none" stroke="'+e+'" stroke-width="'+s+'">','<animate attributeName="cy" values="190;-10" times="0;1" ','dur="'+c+'s" begin="'+u+'s" repeatCount="indefinite"/>',"</circle>",'<circle cx="'+d+'" cy="0" r="'+h+'" fill="none" stroke="'+e+'" stroke-width="'+s+'">','<animate attributeName="cy" values="390;190" times="0;1" ','dur="'+c+'s" begin="'+u+'s" repeatCount="indefinite"/>',"</circle>"].join(""));return r(a.join("")+"</svg>")}},e={queue:{},running:!1,main:function(t){var e,n,i,r,o,s,a=this;for(i in e=!1,n=[],r=this.queue)(s=(o=r[i])(t))||n.push(o),e=e||s;for(i in r=this.queue)o=r[i],n.indexOf(o)>=0&&delete this.queue[i];return e?requestAnimationFrame(function(t){return a.main(t)}):this.running=!1},add:function(t,e){var n=this;if(this.queue[t]||(this.queue[t]=e),!this.running)return this.running=!0,requestAnimationFrame(function(t){return n.main(t)})}},window.ldBar=n=function(n,r){var o,l,u,d,h,c,f,p,m,C,g,v,y,L,_,w,b,x,k,M,T,E,S,P,I=this;if(null==r&&(r={}),o={xlink:"http://www.w3.org/1999/xlink"},(l="String"===s.call(n).slice(8,-1)?document.querySelector(n):n).ldBar)return l.ldBar;for(C in l.ldBar=this,~(u=l.getAttribute("class")||"").indexOf("ldBar")||l.setAttribute("class",u+" ldBar"),d="ldBar-"+Math.random().toString(16).substring(2),h={key:d,clip:d+"-clip",filter:d+"-filter",pattern:d+"-pattern",mask:d+"-mask",maskPath:d+"-mask-path"},c=function(t,e){var n,i;for(n in t=f(t),e)i=e[n],"attr"!==n&&t.appendChild(c(n,i||{}));return t.attrs(e.attr||{}),t},f=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},(p=document.body.__proto__.__proto__.__proto__).text=function(t){return this.appendChild(document.createTextNode(t))},p.attrs=function(t){var e,n,i,r=[];for(e in t)n=t[e],(i=/([^:]+):([^:]+)/.exec(e))&&o[i[1]]?r.push(this.setAttributeNS(o[i[1]],e,n)):r.push(this.setAttribute(e,n));return r},p.styles=function(t){var e,n,i=[];for(e in t)n=t[e],i.push(this.style[e]=n);return i},p.append=function(t){return this.appendChild(document.createElementNS("http://www.w3.og/2000/svg",t))},p.attr=function(t,e){return null!=e?this.setAttribute(t,e):this.getAttribute(t)},(m={type:"stroke",img:"",path:"M10 10L90 10M90 8M90 12","fill-dir":"btt",fill:"#25b","fill-background":"#ddd","fill-background-extrude":3,"pattern-size":null,"stroke-dir":"normal",stroke:"#25b","stroke-width":"3","stroke-trail":"#ddd","stroke-trail-width":.5,duration:1,easing:"linear",value:0,"img-size":null,bbox:null,"set-dim":!0,"aspect-ratio":"xMidYMid","transition-in":!1,min:0,max:100,precision:0,padding:void 0}).preset=l.attr("data-preset")||r.preset,null!=m.preset&&a(m,i[m.preset]),m)(g=g=l.attr("data-"+C))&&(m[C]=g);return a(m,r),m.img&&(m.path=null),v="stroke"===m.type,y=function(e){var n;return(n=/data:ldbar\/res,([^()]+)\(([^)]+)\)/.exec(e))?t[n[1]].apply(t,n[2].split(",")):e},m.fill=y(m.fill),m.stroke=y(m.stroke),"false"===m["set-dim"]&&(m["set-dim"]=!1),L={attr:{"xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:m["aspect-ratio"],width:"100%",height:"100%"},defs:{filter:{attr:{id:h.filter,x:-1,y:-1,width:3,height:3},feMorphology:{attr:{operator:+m["fill-background-extrude"]>=0?"dilate":"erode",radius:Math.abs(+m["fill-background-extrude"])}},feColorMatrix:{attr:{values:"0 0 0 0 1    0 0 0 0 1    0 0 0 0 1    0 0 0 1 0",result:"cm"}}},mask:{attr:{id:h.mask},image:{attr:{"xlink:href":m.img,filter:"url(#"+h.filter+")",x:0,y:0,width:100,height:100,preserveAspectRatio:m["aspect-ratio"]}}},g:{mask:{attr:{id:h.maskPath},path:{attr:{d:m.path||"",fill:"#fff",stroke:"#fff",filter:"url(#"+h.filter+")"}}}},clipPath:{attr:{id:h.clip},rect:{attr:{class:"mask",fill:"#000"}}},pattern:{attr:{id:h.pattern,patternUnits:"userSpaceOnUse",x:0,y:0,width:300,height:300},image:{attr:{x:0,y:0,width:300,height:300}}}}},_=c("svg",L),(w=document.createElement("div")).setAttribute("class","ldBar-label"),l.appendChild(_),l.appendChild(w),b=[0,0],x=0,this.fit=function(){var t,e,n,i;if((e=(t=m.bbox)?{x:(e=t.split(" ").map(function(t){return+t.trim()}))[0],y:e[1],width:e[2],height:e[3]}:b[1].getBBox())&&0!==e.width&&0!==e.height||(e={x:0,y:0,width:100,height:100}),n=1.5*Math.max.apply(null,["stroke-width","stroke-trail-width","fill-background-extrude"].map(function(t){return m[t]})),null!=m.padding&&(n=+m.padding),_.attrs({viewBox:[e.x-n,e.y-n,e.width+2*n,e.height+2*n].join(" ")}),m["set-dim"]&&["width","height"].map(function(t){if(!l.style[t]||I.fit[t])return l.style[t]=e[t]+2*n+"px",I.fit[t]=!0}),i=b[0].querySelector("rect"))return i.attrs({x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n})},m.path?(b[0]=c("g",v?{path:{attr:{d:m.path,fill:"none",class:"baseline"}}}:{rect:{attr:{x:0,y:0,width:100,height:100,mask:"url(#"+h.maskPath+")",fill:m["fill-background"],class:"frame"}}}),_.appendChild(b[0]),b[1]=c("g",{path:{attr:{d:m.path,class:v?"mainline":"solid","clip-path":"fill"===m.type?"url(#"+h.clip+")":""}}}),_.appendChild(b[1]),k=b[0].querySelector(v?"path":"rect"),M=b[1].querySelector("path"),v&&M.attrs({fill:"none"}),T=_.querySelector("pattern image"),(E=new Image).addEventListener("load",function(){var t,e;return t=(e=m["pattern-size"])?{width:+e,height:+e}:E.width&&E.height?{width:E.width,height:E.height}:{width:300,height:300},_.querySelector("pattern").attrs({width:t.width,height:t.height}),T.attrs({width:t.width,height:t.height})}),/.+\..+|^data:/.exec(v?m.stroke:m.fill)&&(E.src=v?m.stroke:m.fill,T.attrs({"xlink:href":E.src})),v&&(k.attrs({stroke:m["stroke-trail"],"stroke-width":m["stroke-trail-width"]}),M.attrs({"stroke-width":m["stroke-width"],stroke:/.+\..+|^data:/.exec(m.stroke)?"url(#"+h.pattern+")":m.stroke})),m.fill&&!v&&M.attrs({fill:/.+\..+|^data:/.exec(m.fill)?"url(#"+h.pattern+")":m.fill}),x=M.getTotalLength(),this.fit(),this.inited=!0):m.img&&(P=m["img-size"]?{width:+(S=m["img-size"].split(","))[0],height:+S[1]}:{width:100,height:100},b[0]=c("g",{rect:{attr:{x:0,y:0,width:100,height:100,mask:"url(#"+h.mask+")",fill:m["fill-background"]}}}),_.querySelector("mask image").attrs({width:P.width,height:P.height}),b[1]=c("g",{image:{attr:{width:P.width,height:P.height,x:0,y:0,preserveAspectRatio:m["aspect-ratio"],"clip-path":"fill"===m.type?"url(#"+h.clip+")":"","xlink:href":m.img,class:"solid"}}}),(E=new Image).addEventListener("load",function(){var t,e,n;return e=m["img-size"]?{width:+(t=m["img-size"].split(","))[0],height:+t[1]}:E.width&&E.height?{width:E.width,height:E.height}:{width:100,height:100},_.querySelector("mask image").attrs({width:e.width,height:e.height}),b[1].querySelector("image").attrs({width:e.width,height:e.height}),I.fit(),n=I.value,I.value=void 0,I.set(n,!0),I.inited=!0}),E.src=m.img,_.appendChild(b[0]),_.appendChild(b[1])),_.attrs({width:"100%",height:"100%"}),this.transition={value:{src:0,des:0},time:{},ease:function(t,e,n,i){return(t/=.5*i)<1?.5*n*t*t+e:.5*-n*((t-=1)*(t-2)-1)+e},handler:function(t,e){var n,i,r,o,s,a,l,u,d,h,c,f,p;return null==e&&(e=!0),null==this.time.src&&(this.time.src=t),i=(n=[m.min,m.max,1/m.precision])[0],r=n[1],o=n[2],s=(n=[this.value.des-this.value.src,.001*(t-this.time.src),+m.duration||1])[0],a=n[1],l=n[2],u=e?this.ease(a,this.value.src,s,l):this.value.des,m.precision?u=Math.round(u*o)/o:e&&(u=Math.round(u)),u>=i||(u=i),u<=r||(u=r),w.textContent=u,d=100*(u-i)/(r-i),v?(h=M,c={"stroke-dasharray":"reverse"===m["stroke-dir"]?"0 "+x*(100-d)*.01+" "+x*d*.01+" 0":.01*d*x+" "+(.01*(100-d)*x+1)}):(f=b[1].getBBox(),c="btt"!==(p=m["fill-dir"])&&p?"ttb"===p?{y:f.y,height:f.height*d*.01,x:f.x,width:f.width}:"ltr"===p?{y:f.y,height:f.height,x:f.x,width:f.width*d*.01}:"rtl"===p?{y:f.y,height:f.height,x:f.x+f.width*(100-d)*.01,width:f.width*d*.01}:void 0:{y:f.y+f.height*(100-d)*.01,height:f.height*d*.01,x:f.x,width:f.width},h=_.querySelector("rect")),h.attrs(c),!(a>=l)||(delete this.time.src,!1)},start:function(t,n,i){var r,o=this;return(r=this.value).src=t,r.des=n,l.offsetWidth||l.offsetHeight||l.getClientRects().length,i&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)?e.add(h.key,function(t){return o.handler(t)}):(this.time.src=0,void this.handler(1e3,!1))}},this.set=function(t,e){var n,i;return null==e&&(e=!0),n=this.value||0,null!=t?this.value=t:t=this.value,i=this.value,this.transition.start(n,i,e)},this.set(+m.value||0,m["transition-in"]),this},window.addEventListener("load",function(){var t,e,i,r,o=[];for(t=0,i=(e=document.querySelectorAll(".ldBar")).length;t<i;++t)(r=e[t]).ldBar||o.push(r.ldBar=new n(r));return o},!1)}(),e.exports=ldBar},{"./presets":2}],2:[function(t,e,n){(void 0!==n&&n||this).presets={rainbow:{type:"stroke",path:"M10 10L90 10",stroke:"data:ldbar/res,gradient(0,1,#a551df,#fd51ad,#ff7f82,#ffb874,#ffeb90)",bbox:"10 10 80 10"},energy:{type:"fill",path:"M15 5L85 5A5 5 0 0 1 85 15L15 15A5 5 0 0 1 15 5",stroke:"#f00",fill:"data:ldbar/res,gradient(45,2,#4e9,#8fb,#4e9)","fill-dir":"ltr","fill-background":"#444","fill-background-extrude":1,bbox:"10 5 80 10"},stripe:{type:"fill",path:"M15 5L85 5A5 5 0 0 1 85 15L15 15A5 5 0 0 1 15 5",stroke:"#f00",fill:"data:ldbar/res,stripe(#25b,#58e,1)","fill-dir":"ltr","fill-background":"#ddd","fill-background-extrude":1,bbox:"10 5 80 10"},text:{type:"fill",img:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="20" viewBox="0 0 70 20"><text x="35" y="10" text-anchor="middle" dominant-baseline="central" font-family="arial">LOADING</text></svg>',"fill-background-extrude":1.3,"pattern-size":100,"fill-dir":"ltr","img-size":"70,20",bbox:"0 0 70 20"},line:{type:"stroke",path:"M10 10L90 10",stroke:"#25b","stroke-width":3,"stroke-trail":"#ddd","stroke-trail-width":1,bbox:"10 10 80 10"},fan:{type:"stroke",path:"M10 90A40 40 0 0 1 90 90","fill-dir":"btt",fill:"#25b","fill-background":"#ddd","fill-background-extrude":3,"stroke-dir":"normal",stroke:"#25b","stroke-width":"3","stroke-trail":"#ddd","stroke-trail-width":.5,bbox:"10 50 80 40"},circle:{type:"stroke",path:"M50 10A40 40 0 0 1 50 90A40 40 0 0 1 50 10","fill-dir":"btt",fill:"#25b","fill-background":"#ddd","fill-background-extrude":3,"stroke-dir":"normal",stroke:"#25b","stroke-width":"3","stroke-trail":"#ddd","stroke-trail-width":.5,bbox:"10 10 80 80"},bubble:{type:"fill",path:"M50 10A40 40 0 0 1 50 90A40 40 0 0 1 50 10","fill-dir":"btt",fill:"data:ldbar/res,bubble(#39d,#cef)","pattern-size":"150","fill-background":"#ddd","fill-background-extrude":2,"stroke-dir":"normal",stroke:"#25b","stroke-width":"3","stroke-trail":"#ddd","stroke-trail-width":.5,bbox:"10 10 80 80"}}},{}]},{},[1]),function(t){function e(t,e,n,i,r){this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this._priority=r||0}function n(t,e){if("function"!=typeof t)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}var i={VERSION:"0.7.4"};e.prototype={active:!0,params:null,execute:function(t){var e;return this.active&&this._listener&&(t=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,t),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.Signal=function(){this._bindings=[],this._prevParams=null},i.Signal.prototype={memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,n,i,r){var o=this._indexOfListener(t,i);if(-1!==o){if((t=this._bindings[o]).isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else t=new e(this,t,n,i,r),this._addBinding(t);return this.memorize&&this._prevParams&&t.execute(this._prevParams),t},_addBinding:function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if((n=this._bindings[i])._listener===t&&n.context===e)return i;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return n(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return n(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){n(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){e=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(e[i]&&this._shouldPropagate&&!1!==e[i].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},"function"==typeof define&&define.amd?define(i):"undefined"!=typeof module&&module.exports?module.exports=i:t.signals=i}(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.TWEEN=e()}(this,function(){"use strict";var t,e,n="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},i=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:n();i.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<i.length;r++){var o=this._tweens[i[r]];o&&!1===o.update(t)&&!e&&delete this._tweens[i[r]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),r={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Bounce.In(2*t):.5*r.Bounce.Out(2*t-1)+.5}}},o={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),s=o.Utils.Linear;return e<0?s(t[0],t[1],i):e>1?s(t[n],t[n-1],n-i):s(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,s=o.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*s(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),s=o.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),s(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):s(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=o.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(t=[1],function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),s=.5*(i-e),a=r*r;return(2*e-2*n+o+s)*(r*a)+(-3*e+3*n-2*o-s)*a+o*r+e}}},s=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),a=function(){function t(t,e){void 0===e&&(e=d),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=d.Easing.Linear.None,this._interpolationFunction=d.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=d.nextId(),this._isChainStopped=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){for(var n in t)this._valuesEnd[n]=t[n];return void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?d.now()+parseFloat(t):t:d.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,i){for(var r in n){var o=t[r],s=Array.isArray(o),a=s?"array":typeof o,l=!s&&Array.isArray(n[r]);if("undefined"!==a&&"function"!==a){if(l){var u=n[r];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[r]=[o].concat(u)}if("object"!==a&&!s||!o||l)void 0===e[r]&&(e[r]=o),s||(e[r]*=1),i[r]=l?n[r].slice().reverse():e[r]||0;else{for(var d in e[r]=s?[]:{},o)e[r][d]=o[d];i[r]=s?[]:{},this._setupProperties(o,e[r],n[r],i[r])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this.update(1/0),this},t.prototype.pause=function(t){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=void 0===t?d.now():t,this._group.remove(this),this)},t.prototype.resume=function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?d.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t){var e,n;if(t>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(t),t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var i=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[e]||(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var r=0,o=this._chainedTweens.length;r<o;r++)this._chainedTweens[r].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,i){for(var r in n)if(void 0!==e[r]){var o=e[r]||0,s=n[r],a=Array.isArray(t[r]),l=Array.isArray(s);!a&&l?t[r]=this._interpolationFunction(s,i):"object"==typeof s&&s?this._updateProperties(t[r],o,s,i):"number"==typeof(s=this._handleRelativeValue(o,s))&&(t[r]=o+(s-o)*i)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t];"string"==typeof this._valuesEnd[t]?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t]):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=e},t}(),l="18.5.0",u=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),d=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.version=l,e.now=n,e.Group=i,e.Easing=r,e.Interpolation=o,e.nextId=s.nextId,e.Tween=a,e}return u(e,t),e}(i));return d}),function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){return r(e[s][1][t]||t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(t,e,n){"object"==typeof e&&(e.exports=function(t){var e=[];this.do=function(t){e.push(t)},this.undo=function(t){e.splice(e.indexOf(t),1)},this.fire=function(){for(var n=0;n<e.length;n++)e[n].apply(t,arguments)}})},{}],2:[function(t,e,n){e.exports={name:"timeliner_gui",version:"0.0.2",description:"Timeliner GUI",main:"timeliner.js",scripts:{build:"browserify ./src/*.js --full-path=false -o timeliner_gui.js",mini:"browserify src/*.js -g uglifyify --full-path=false -o timeliner_gui.min.js",watch:"watchify src/*.js -o timeliner_gui.js -v",start:"npm run watch",test:'echo "Error: no tests :(" && exit 1'},repository:{type:"git",url:"https://github.com/tschw/timeliner_gui.git"},keywords:["timeline","animation","keyframe","controls","gui"],author:"tschw (the fork)",contributors:["Joshua 'zz85' Koo (original author)"],license:"MIT",bugs:{url:"https://github.com/tschw/timeliner_gui/issues"},homepage:"https://github.com/tschw/timeliner_gui",devDependencies:{"do.js":"^1.0.0",uglifyify:"^2.6.0"}}},{}],3:[function(t,e,n){e.exports=function(){var t={};this.on=function(e,n){e in t||(t[e]=[]),t[e].push(n)},this.fire=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t[e];if(i)for(var r=0;r<i.length;r++){var o=i[r];o.apply(o,n)}}}},{}],4:[function(t,e,n){var i=t("./layout_constants"),r=t("./layer_view"),o=t("./widget/icon_button"),s=t("./utils").style,a=t("./theme"),l=(t("./utils").STORAGE_PREFIX,t("./widget/number"));e.exports=function(t){var e=document.createElement("div"),n=document.createElement("div");n.id="timeline-tools",n.style.cssText="display:flex; margin: 0px; top: 0; left: 0; height: "+(i.MARKER_TRACK_HEIGHT+1)+"px;",n.style.cssText+="background-color: #1d202b; border-bottom: 1px solid "+a.b+";";var u=document.createElement("div");s(u,{position:"absolute",top:i.MARKER_TRACK_HEIGHT+1+"px",left:0,right:0,bottom:0,overflowY:"scroll",outline:"none"}),u.id="timeline-tracks",u.tabIndex=2,u.addEventListener("scroll",function(t){h.fire("layer.scroll",u.scrollTop)}),e.appendChild(u);var d={width:"26px",height:"26px",padding:"2px",borderLeft:"1px solid "+a.b},h=t.dispatcher,c=(t.controller,new o(12,"play","Play",h));s(c.dom,d),c.onClick(function(t){t.preventDefault(),h.fire("controls.toggle_play")});var f=new o(12,"stop","Stop",h);s(f.dom,d),f.onClick(function(t){h.fire("controls.stop")});var p=new l({min:0,max:100,step:1,precision:0});p.dom.style.width="45px",p.dom.style.paddingLeft="20px",p.dom.style.borderLeft="1px solid "+a.b,p.onChange.do(function(e,n){t.timeRange=e;var i=(50-t.timeRange)/50;h.fire("update.scale",6*Math.pow(100,i)),p.paint()}),e.appendChild(n);var m=new l({min:0,step:.125});m.dom.style.borderLeft="1px solid "+a.b,m.onChange.do(function(t,e){h.fire("totalTime.update",t),m.paint()});var C=document.createElement("span");C.innerHTML="&#37;",C.style.lineHeight="26px",n.appendChild(m.dom),n.appendChild(f.dom),n.appendChild(c.dom),n.appendChild(p.dom),n.appendChild(C);var g=[];function v(){var e=t.controller.getChannelNames(),n=t.currentTime;m.setValue(t.totalTime),p.setValue(t.timeRange),m.paint(),p.paint();for(var i=0;i<g.length;i++)g[i].setState(g[i].channelName,e[g[i].channelName]),g[i].repaint(n)}this.setControlStatus=function(t){t?(c.setIcon("pause"),c.setTip("Pause")):(c.setIcon("play"),c.setTip("Play"))},this.updateState=function(){for(var e,n,i,o=t.controller.getChannelNames(),s=Object.keys(o);u.children.length;)u.removeChild(u.lastChild);for(g=[],e=0;e<s.length;e++){if(n=o[i=s[e]],!g[e]){var a=new r(t,i,n);u.appendChild(a.dom),g.push(a)}g[e].setState(i,n)}},this.repaint=v,this.updateState(),this.scrollTo=function(t){u.scrollTop=t*(u.scrollHeight-1-u.clientHeight)},this.dom=e,this.top=n,v()}},{"./layer_view":5,"./layout_constants":6,"./theme":7,"./utils":11,"./widget/icon_button":13,"./widget/number":14}],5:[function(t,e,n){var i=t("./theme"),r=t("./layout_constants"),o=t("./utils");e.exports=function(t,e,n){var s=t.dispatcher,a=document.createElement("div"),l=document.createElement("div");l.tabIndex=-1,l.className="layer-label",l.style.cssText="\n            font-size: 12px;\n            outline: 0;\n            padding-left: 19px;\n            max-width: 212px;\n            min-width: 212px;\n        ",l.addEventListener("click",function(){var t=document.querySelectorAll(".layer-label");for(var e of t)e.classList.remove("selected");this.classList.add("selected")}),l.addEventListener("keydown",function(n){!this.classList.contains("selected")||46!=n.keyCode&&8!=n.keyCode||(n.stopPropagation(),n.preventDefault(),t.controller.delChannel(e))}),a.appendChild(l);var u=r.LINE_HEIGHT,d=document.createElement("div");d.tabIndex=-1,d.style.cssText=`\n            display: flex;\n            outline: 0;\n            justify-content: center;\n            flex: 1;\n            border-left: 1px solid ${i.b};`,a.appendChild(d);var h=document.createElement("button");h.innerHTML="&#8249;",h.style.cssText="background: none; font-size: 28px; padding: 0px; float: right; width: 15px; height: "+u+"px; border-style:none; outline: none;",h.addEventListener("click",function(n){t.dispatcher.fire("keyframe.prev",e),d.focus()});var c=document.createElement("button");c.innerHTML="&#8250;",c.style.cssText="background: none; font-size: 28px; padding: 0px; float: right; width: 15px; height: "+u+"px; border-style:none; outline: none;",c.addEventListener("click",function(n){t.dispatcher.fire("keyframe.next",e),d.focus()});var f=document.createElement("button");f.innerHTML="&#8226;",f.style.cssText="background: none; font-size: 28px; padding: 0px; float: right; width: 15px; height: "+u+"px; border-style:none; outline: none;",f.addEventListener("click",function(n){t.dispatcher.fire("keyframe",e)}),a.addEventListener("keydown",function(n){75==n.keyCode&&(n.stopPropagation(),n.preventDefault(),t.dispatcher.fire("keyframe",e))}),d.addEventListener("keydown",function(e){46==e.keyCode||8==e.keyCode?(e.stopPropagation(),e.preventDefault(),t.dispatcher.fire("keyframe.delete")):67==e.keyCode&&e.ctrlKey?s.fire("keyframe.copy"):86==e.keyCode&&e.ctrlKey&&s.fire("keyframe.paste")}),t.controller.getChannelKeyTimes(e)&&(d.appendChild(h),d.appendChild(f),d.appendChild(c)),a.className="layer-item",a.style.cssText=`\n            position:relative;\n            margin: 0px;\n            border-bottom:1px solid ${i.b};\n            height: ${u}px;\n            line-height: ${u}px;\n            color: ${i.d};\n        `,this.dom=a,this.channelName=e;var p=function(n){if(f.style.color=i.d,null!=n&&!t.draggingKeyframe&&!t.draggingAudio&&null!=e){var r=t.controller.getChannelKeyTimes(e);r&&o.binarySearch(r,n)>=0&&(f.style.color=i.c)}};this.repaint=p,this.setState=function(t,i){e=t,n=i,l.textContent=n,p()}}},{"./layout_constants":6,"./theme":7,"./utils":11}],6:[function(t,e,n){e.exports={LINE_HEIGHT:30,DIAMOND_SIZE:10,MARKER_TRACK_HEIGHT:25,WIDTH:600,HEIGHT:200,LEFT_PANE_WIDTH:280,TIME_SCALE:60}},{}],7:[function(t,e,n){e.exports={a:"#252935",b:"#3c4458",c:"#466168",d:"#6c8db8",e:"#373e4e",f:"#20232e"}},{}],8:[function(t,e,n){var i,r,o,s=t("./layout_constants"),a=t("./theme"),l=t("./utils"),u=l.proxy_ctx,d=s.LINE_HEIGHT,h=s.DIAMOND_SIZE,c=s.MARKER_TRACK_HEIGHT,f=(s.LEFT_PANE_WIDTH,s.TIME_SCALE),p=0;function m(){r=2*(i=f/60),o=8*i}m(),e.exports=function(t){var e,n,s=t.dispatcher,C=0,g=0,v=window.devicePixelRatio,y=document.createElement("canvas");this.updateState=function(){e=t.controller.getChannelNames(),n=Object.keys(e),D()},this.updateState(),this.scrollTo=function(t){C=t,D()},this.resize=function(){v=window.devicePixelRatio,y.width=t.width*v,y.height=t.height*v,y.style.width=t.width+"px",y.style.height=t.height+"px",t.scrollHeight=t.height-c},this.dom=y,this.resize();var L,_,w,b,x,k,M=y.getContext("2d"),T=u(M),E=15,S=!1,P=[],I=0,A=0;function R(e,n,i){var r=this;this.time=e,this.path=function(t){t.beginPath().arc(n,i+6,4,0,2*Math.PI,!1).closePath()},this.paint=function(t){r.path(t),t.fillStyle(a.d),t.fill()},this.mouseover=function(){y.style.cursor="move"},this.mouseout=function(){y.style.cursor="default"},this.mousedrag=function(e,n){if(void 0!==k){var i=Z(e.offsetx),r=Math.max(i-I,-I),o=n.shiftKey;r&&(t.draggingKeyframe=!0,t.controller.moveKeyframe(k,I,r,o),I+=r,D())}}}function O(e,n,i,r,o){var s=this;this.time=e,this.lineSegment=function(t,e,n,i,r){t.fillStyle(a.d).fillRect(e,n,i,r)},this.path=function(t){t.beginPath().rect(n,i+5,G(e+r)-n,20).closePath()},this.paint=function(a){var l=G(e+r)-n,u=t.controller.getAudioData(o);a.fillStyle("#20222d").fillRect(n,i+5,G(e+r)-n,20);for(var d=0;d<u.length;d++){var h=l/u.length,c=20*u[d];s.lineSegment(a,n+h*d,i+5+(20-c)/2,h,c)}},this.mouseover=function(){y.style.cursor="move"},this.mouseout=function(){y.style.cursor="default"},this.mousedrag=function(e,n){void 0!==k&&(delta=Z(e.offsetx)-I,delta&&(t.draggingAudio=!0,t.controller.moveAudio(k,this.time,delta),this.time=Math.max(0,A+delta),D()))}}function D(){S=!0}function N(){for(P.length=0,_=0,x=n.length;_<=x;_++)M.strokeStyle=a.b,M.beginPath(),b=_*d,b+=.5,T.moveTo(0,b).lineTo(width,b).stroke();for(_=0;_<x;_++){var e=n[_],i=t.controller.getChannelKeyTimes(e);if(b=_*d,i)for(var r=0;r<i.length;r++){var o=i[r];P.push(new R(o,G(o),b+.5*d-h/2))}else{var s=t.controller.getAudioOffset(e),l=t.controller.getAudioDuration(e);P.push(new O(s,G(s),b,l,e))}}for(_=0,x=P.length;_<x;_++)P[_].paint(T)}var U=16,H={left:0,grip_length:0,k:1};function j(t){f!==t&&(f=t,m())}this.setTimeScale=j;var F,z=null,B=null;function W(){var t,e=z;for(z=null,_=P.length;_-- >0;)if((t=P[_]).path(T),M.isPointInPath(Y.x*v,Y.y*v)){z=t;break}e&&e!=z&&(t=e).mouseout&&t.mouseout(),z&&((t=z).mouseover&&t.mouseover(),V&&(B=t))}function K(){Y&&T.save().scale(v,v).translate(0,c).beginPath().rect(0,0,t.width,t.scrollHeight).translate(-g,-C).clip().run(W).restore()}function q(t){return t-c<0?-1:(t-c+C)/d|0}function Z(t){return p+((t-E)/(f/o)|0)/o}function G(t){var e=t-p;return e*=f,e+=E}this.repaint=D,this._paint=function(){if(S){j(t.timeScale),L=t.currentTime,p=t.scrollTime,M.lineWidth=1,M.fillStyle=a.f,M.fillRect(0,0,y.width,y.height),M.save(),M.scale(v,v),width=t.width,height=t.height;var e=f/i,n=p*f%e,s=(width-E+n)/e;for(M.fillStyle="#1d202b",M.fillRect(0,0,y.width,25),M.strokeStyle=a.e,M.beginPath(),M.moveTo(0,25.5),M.lineTo(width,25.5),M.stroke(),_=0;_<s;_++){w=_*e+E-n,M.strokeStyle=a.b,M.beginPath(),M.moveTo(w,c),M.lineTo(w,height),M.stroke(),M.fillStyle=a.d,M.textAlign="left";var u=(_*e-n)/f+p;u=l.format_friendly_seconds(u),M.fillText(u,w+5,10)}for(e=f/r,s=(width-E+n)/e,_=0;_<s;_++)M.strokeStyle=a.b,M.beginPath(),w=_*e+E-n,M.moveTo(w,c-0),M.lineTo(w,_%2==0?0:c-16),M.stroke();var d=o/r;for(e=f/o,s=(width-E+n)/e,_=0;_<s;_++)_%d!=0&&(M.strokeStyle=a.b,M.beginPath(),w=_*e+E-n,M.moveTo(w+.5,c-0),M.lineTo(w+.5,c-10),M.stroke());T.save().translate(0,c).beginPath().rect(0,0,t.width,t.scrollHeight).translate(-g,-C).clip().run(N).restore(),function(){var e=width,n=t.totalTime,i=e/f,r=e/n;H.k=r,H.grip_length=i*r;var o=U;if(H.grip_length<width){H.left=t.scrollTime*r,H.left=Math.min(Math.max(0,H.left),e-H.grip_length),M.fillStyle="#20232e",M.strokeStyle=a.b;var s=o/2,l=height-20,u=H.left+s,d=u+H.grip_length-s;M.beginPath(),M.moveTo(u,l),M.lineTo(d,l),M.arc(d,l+s,s,-Math.PI/2,Math.PI/2),M.lineTo(u+s,l+o),M.arc(u,l+s,s,Math.PI/2,-Math.PI/2),M.stroke(),M.fill()}}(),M.strokeStyle="#565d75",w=(L-p)*f+E;var h=l.format_friendly_seconds(L),m=M.measureText(h).width,b=c-5,x=m/2+4;M.beginPath(),M.moveTo(w,b),M.lineTo(w,height),M.stroke(),M.fillStyle="#565d75",M.textAlign="center",M.beginPath(),M.moveTo(w,b+5),M.lineTo(w+5,b),M.lineTo(w+x,b),M.lineTo(w+x,b-14),M.lineTo(w-x,b-14),M.lineTo(w-x,b),M.lineTo(w-5,b),M.closePath(),M.fill(),M.fillStyle="white",M.fillText(h,w,b-4),M.restore(),S=!1}else K()},D(),y.addEventListener("mousemove",function(t){F=y.getBoundingClientRect();var e=t.clientX-F.left,n=t.clientY-F.top;return B||(Y={x:e,y:n}),!1}),y.addEventListener("dblclick",function(t){F=y.getBoundingClientRect();var e=t.clientX-F.left,i=q(t.clientY-F.top);Z(e),s.fire("keyframe",n[i])});var Y=null;y.addEventListener("mouseout",function(){Y=null});var X,V=!1,J=!1;l.handleDrag(y,function(e){V=!0,Y={x:e.offsetx,y:e.offsety},K(),B instanceof R?(I=B.time,(k=n[q(e.offsety)])||(B=null)):B instanceof O&&(I=Z(e.offsetx),A=B.time,(k=n[q(e.offsety)])||(B=null)),s.fire("time.update",Math.max(Z(e.offsetx),0),!0),t.selected_keyframe=null},function(t,e){V=!1,B?(J=!0,B.mousedrag&&B.mousedrag(t,e)):s.fire("time.update",Math.max(Z(t.offsetx),0),!0)},function(){J&&s.fire("keyframe.move"),V=!1,B=null,J=!1,t.draggingKeyframe=!1,t.draggingAudio=!1,D()}),l.handleDrag(y,function(t){X=H.left},function(e){t.scrollTime=Math.max(0,(X+e.dx)/H.k),D()},function(){},function(t){var e=t.offsetx>=H.left&&t.offsetx<=H.left+H.grip_length&&H.grip_length<width;return t.offsety>=height-U&&e})}},{"./layout_constants":6,"./theme":7,"./utils":11}],9:[function(t,e,n){var i=t("./undo"),r=t("./dispatcher"),o=t("./theme"),s=i.UndoManager,a=(i.UndoState,t("./layout_constants")),l=t("./utils"),u=t("./layer_cabinet"),d=t("./timeline_panel"),h=(t("../package.json"),t("./widget/icon_button"),l.style),c=l.saveToFile,f=l.openAs,p=l.STORAGE_PREFIX,m=(t("./widget/scrollbar"),999);function C(t){var e=new r;t.timeliner=this;var n={width:a.WIDTH,height:a.HEIGHT,scrollHeight:0,totalTime:t.getDuration(),timeScale:6,timeRange:50,currentTime:0,scrollTime:0,dispatcher:e,controller:t,selected_keyframe:null},i=new d(n),C=new u(n);this.layer_panel=C;new s(e);var g=document.createElement("div"),v=null;e.on("keyframe",function(e){var i=n.currentTime;if(null!=i&&null!=e){var r=t.getChannelKeyTimes(e,i);l.binarySearch(r,i)<0?(t.setKeyframe(e,i),n.selected_keyframe={channelName:e,time:i}):t.delKeyframe(e,i),S()}}),e.on("keyframe.move",function(t,e){}),e.on("keyframe.delete",function(){if(n.selected_keyframe){var e=n.selected_keyframe.channelName,i=n.selected_keyframe.time,r=t.getChannelKeyTimes(e,i);l.binarySearch(r,i)>0&&t.delKeyframe(e,i),S()}n.selected_keyframe=null}),e.on("keyframe.copy",function(){n.selected_keyframe&&(v=JSON.parse(JSON.stringify(n.selected_keyframe)))}),e.on("keyframe.paste",function(){v&&(t.pasteKeyFrame(v.channelName,v.time,n.currentTime),S(),n.selected_keyframe={channelName:v.channelName,time:n.currentTime})}),e.on("keyframe.next",function(t){var e=n.controller.getChannelKeyTimes(t),i=n.currentTime,r=e.filter(t=>t>n.currentTime);r.length>0&&(i=r[0],L(i,!0)),n.selected_keyframe={channelName:t,time:i}}),e.on("keyframe.prev",function(t){var e=n.controller.getChannelKeyTimes(t),i=n.currentTime,r=e.filter(t=>t<n.currentTime);r.length>0&&(i=r[r.length-1],L(r[r.length-1],!0)),n.selected_keyframe={channelName:t,time:i}});var y=null,L=function(e,i){var r=Math.min(Math.max(e,0),n.totalTime);n.currentTime=r,t.setDisplayTime(r,null!=y,i),y&&(y=performance.now()-1e3*e),S()};function _(){y=performance.now()-1e3*n.currentTime,C.setControlStatus(!0)}function w(){y=null,C.setControlStatus(!1),n.controller.pauseAudio()}this.togglePlay=function(){y?w():_()},this.getSelectedKeyframe=function(){return n.selected_keyframe},e.on("controls.toggle_play",this.togglePlay),e.on("controls.restart_play",function(){y||_(),L(0)}),e.on("layer.scroll",function(t){i.scrollTo(t)}),e.on("controls.play",_),e.on("controls.pause",w),e.on("controls.stop",function(){null!==y&&w(),L(0)}),e.on("time.update",L),e.on("totalTime.update",function(e){n.totalTime=e,t.setDuration(e),i.repaint()}),e.on("update.scale",function(t){n.timeScale=t,i.setTimeScale(t),i.repaint()}),e.on("controls.undo",function(){}),e.on("controls.redo",function(){});var b=!0;function x(t){}function k(t){t||(t=n.name),(t=prompt("Pick a name to save to (localStorage)",t))&&(n.name=t)}function M(e){t.deserialize(e),E()}function T(t){M(JSON.parse(t))}function E(){C.updateState(),i.updateState(),S()}function S(){n.controller.getChannelNames().length,a.LINE_HEIGHT;C.repaint(),i.repaint()}function P(t){t&&T(localStorage[p+t])}!function t(){if(requestAnimationFrame(t),y){var r=(performance.now()-y)/1e3;L(r),r>n.totalTime&&(y=performance.now(),L(0))}var o,s;b&&(g.style.width=n.width+"px",g.style.height=n.height+"px",o=C.dom,s=i.dom,o.style.cssText="position: absolute; left: 0px; top: 0px; height: "+n.height+"px;",h(o,{overflow:"hidden"}),o.style.width=a.LEFT_PANE_WIDTH+"px",s.style.position="absolute",s.style.top="0px",s.style.left=a.LEFT_PANE_WIDTH+"px",i.resize(),S(),b=!1,e.fire("resize")),i._paint()}(),this.openLocalSave=P,e.on("import",function(){var t;(t=prompt("Paste JSON in here to Load"))&&T(t)}.bind(this)),e.on("new",function(){data.blank(),E()}),e.on("openfile",function(){f(function(t){T(t)},g)}),e.on("open",P),e.on("export",function(){var e=t.serialize();c(JSON.stringify(e,null,"\t"),"animation.json")}),e.on("save",function(){var t=n.name;t||k(t)}),e.on("save_as",k),this.save=x,this.load=M,h(g,{textAlign:"left",lineHeight:"1em",position:"absolute"});var I=document.createElement("div");return I.id="timeliner",I.tabIndex=1,h(I,{position:"fixed",margin:0,borderRadius:"6px",padding:0,overflow:"hidden",backgroundColor:o.f,color:o.d,zIndex:m,fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"12px",outline:0}),I.appendChild(g),g.appendChild(C.dom),g.appendChild(i.dom),this.updateTotalTime=function(t){n.totalTime=t,i.repaint()},this.updateState=E,this.dispose=function(){I.parentElement.removeChild(I)},function(){"use strict";function t(t,e,i,r,o){var s,l;t.style.left=e+"px",t.style.bottom=i+"px",t.style.width=r+"px",t.style.height=o+"px",t===I&&(s=r,l=o,n.width=s-a.LEFT_PANE_WIDTH-4,n.height=l,n.scrollHeight=n.height-a.MARKER_TRACK_HEIGHT,b=!0)}function e(){var e;e=window.innerWidth-20,t(I,10,10,e,250)}window.addEventListener("resize",function(){e()}),t(I,0,0,n.width,n.height),e()}(),I}C.binarySearch=l.binarySearch,window.Timeliner=C},{"../package.json":2,"./dispatcher":3,"./layer_cabinet":4,"./layout_constants":6,"./theme":7,"./timeline_panel":8,"./undo":10,"./utils":11,"./widget/icon_button":13,"./widget/scrollbar":15}],10:[function(t,e,n){function i(t,e){this.dispatcher=t,this.MAX_ITEMS=e||100,this.clear()}i.prototype.save=function(t,e){var n=this.states,i=this.index+1,r=n.length-i;n.splice(i,r,t),n.length>this.MAX_ITEMS&&n.shift(),this.index=n.length-1,e||this.dispatcher.fire("state:save",t.description)},i.prototype.clear=function(){this.states=[],this.index=-1},i.prototype.canUndo=function(){return this.index>0},i.prototype.canRedo=function(){return this.index<this.states.length-1},i.prototype.undo=function(){return this.canUndo()?(this.dispatcher.fire("status","Undo: "+this.get().description),this.index--):this.dispatcher.fire("status","Nothing to undo"),this.get()},i.prototype.redo=function(){return this.canRedo()?(this.index++,this.dispatcher.fire("status","Redo: "+this.get().description)):this.dispatcher.fire("status","Nothing to redo"),this.get()},i.prototype.get=function(){return this.states[this.index]},e.exports={UndoState:function(t,e){this.state=t.getJSONString(),this.description=e},UndoManager:i}},{}],11:[function(t,e,n){var i,r;function o(t){var e=t.target.files[0];if(e){var n=new FileReader;n.onload=function(t){var e=t.target.result;r(e)},n.readAsText(e),i.value=""}}function s(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}e.exports={STORAGE_PREFIX:"timeliner-",Z_INDEX:999,style:function(t,e){for(var n=1;n<arguments.length;++n){var i=arguments[n];for(var r in i)t.style[r]=i[r]}},saveToFile:function(t,e){var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var i=new Blob([t],{type:"octet/stream"}),r=window.URL.createObjectURL(i);n.href=r,n.download=e,s(n),setTimeout(function(){window.URL.revokeObjectURL(r),document.body.removeChild(n)},500)},openAs:function(t,e){r=t,i||((i=document.createElement("input")).style.display="none",i.type="file",i.addEventListener("change",o),(e=e||document.body).appendChild(i));s(i)},format_friendly_seconds:function(t,e){var n=0|t,i=n%60,r=n/60|0,o=r%60,s=(i/100).toFixed(2).substring(2),a=o+":"+s;if(t%1>0){var l=t%1*60;"frames"===e?a=i+"+"+l.toFixed(0)+"f":a+=(t%1).toFixed(2).substring(1)}return a},proxy_ctx:function(t){var e={};function n(n){return function(){return t[n].apply(t,arguments),e}}function i(n){return function(i){return t[n]=i,e}}for(var r in e.run=function(t){return t(e),e},t){var o=typeof t[r];switch(o){case"object":break;case"function":e[r]=n(r);break;default:e[r]=i(r)}}return e},handleDrag:function(t,e,n,i,r){var o=null,s=t.getBoundingClientRect();function a(t){u(t),!r||r(o,t)?(document.addEventListener("mousemove",l),document.addEventListener("mouseup",h),e(o,t),t.preventDefault()):o=null}function l(t){d(t),o.moved=!0,n(o,t)}function u(e){s=t.getBoundingClientRect();var n=e.clientX,i=e.clientY;o={startx:n,starty:i,x:n,y:i,dx:0,dy:0,offsetx:n-s.left,offsety:i-s.top,moved:!1}}function d(e){s=t.getBoundingClientRect();var n=e.clientX,i=e.clientY,r=n-s.left,a=i-s.top;o.x=n,o.y=i,o.dx=e.clientX-o.startx,o.dy=e.clientY-o.starty,o.offsetx=r,o.offsety=a}function h(t){d(t),i(o,t),o=null,document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",h)}function c(n){if(1==n.touches.length){var i=n.touches[0];if(r&&!r(i))return;n.preventDefault(),u(i),e(o,i)}t.addEventListener("touchmove",f),t.addEventListener("touchend",p)}function f(t){var e=t.touches[0];l(e)}function p(e){h(e),t.removeEventListener("touchmove",f),t.removeEventListener("touchend",p)}t.addEventListener("mousedown",a),t.addEventListener("touchstart",c),this.release=function(){t.removeEventListener("mousedown",a),t.removeEventListener("touchstart",c)}},binarySearch:function(t,e){var n=0,i=t.length,r=!1;for(;n<i;){var o=n+i>>1;t[o]<e?n=o+1:(i=o,r=t[o]===e)}return r?n:~n}}},{}],12:[function(t,e,n){e.exports={unitsPerEm:1792,ascender:1536,descender:-256,fonts:{plus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,896,896 L,896,1312 C,896,1365,853,1408,800,1408 L,608,1408 C,555,1408,512,1365,512,1312 L,512,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,512,512 L,512,96 C,512,43,555,0,608,0 L,800,0 C,853,0,896,43,896,96 L,896,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},minus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},ok:{advanceWidth:1792,commands:"M,1671,970 C,1671,995,1661,1020,1643,1038 L,1507,1174 C,1489,1192,1464,1202,1439,1202 C,1414,1202,1389,1192,1371,1174 L,715,517 L,421,812 C,403,830,378,840,353,840 C,328,840,303,830,285,812 L,149,676 C,131,658,121,633,121,608 C,121,583,131,558,149,540 L,511,178 L,647,42 C,665,24,690,14,715,14 C,740,14,765,24,783,42 L,919,178 L,1643,902 C,1661,920,1671,945,1671,970 Z"},remove:{advanceWidth:1408,commands:"M,1298,214 C,1298,239,1288,264,1270,282 L,976,576 L,1270,870 C,1288,888,1298,913,1298,938 C,1298,963,1288,988,1270,1006 L,1134,1142 C,1116,1160,1091,1170,1066,1170 C,1041,1170,1016,1160,998,1142 L,704,848 L,410,1142 C,392,1160,367,1170,342,1170 C,317,1170,292,1160,274,1142 L,138,1006 C,120,988,110,963,110,938 C,110,913,120,888,138,870 L,432,576 L,138,282 C,120,264,110,239,110,214 C,110,189,120,164,138,146 L,274,10 C,292,-8,317,-18,342,-18 C,367,-18,392,-8,410,10 L,704,304 L,998,10 C,1016,-8,1041,-18,1066,-18 C,1091,-18,1116,-8,1134,10 L,1270,146 C,1288,164,1298,189,1298,214 Z"},zoom_in:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,768,768 L,768,992 C,768,1009,753,1024,736,1024 L,672,1024 C,655,1024,640,1009,640,992 L,640,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,640,640 L,640,416 C,640,399,655,384,672,384 L,736,384 C,753,384,768,399,768,416 L,768,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},zoom_out:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},cog:{advanceWidth:1536,commands:"M,1024,640 C,1024,499,909,384,768,384 C,627,384,512,499,512,640 C,512,781,627,896,768,896 C,909,896,1024,781,1024,640 M,1536,749 C,1536,766,1524,782,1507,785 L,1324,813 C,1314,846,1300,879,1283,911 C,1317,958,1354,1002,1388,1048 C,1393,1055,1396,1062,1396,1071 C,1396,1079,1394,1087,1389,1093 C,1347,1152,1277,1214,1224,1263 C,1217,1269,1208,1273,1199,1273 C,1190,1273,1181,1270,1175,1264 L,1033,1157 C,1004,1172,974,1184,943,1194 L,915,1378 C,913,1395,897,1408,879,1408 L,657,1408 C,639,1408,625,1396,621,1380 C,605,1320,599,1255,592,1194 C,561,1184,530,1171,501,1156 L,363,1263 C,355,1269,346,1273,337,1273 C,303,1273,168,1127,144,1094 C,139,1087,135,1080,135,1071 C,135,1062,139,1054,145,1047 C,182,1002,218,957,252,909 C,236,879,223,849,213,817 L,27,789 C,12,786,0,768,0,753 L,0,531 C,0,514,12,498,29,495 L,212,468 C,222,434,236,401,253,369 C,219,322,182,278,148,232 C,143,225,140,218,140,209 C,140,201,142,193,147,186 C,189,128,259,66,312,18 C,319,11,328,7,337,7 C,346,7,355,10,362,16 L,503,123 C,532,108,562,96,593,86 L,621,-98 C,623,-115,639,-128,657,-128 L,879,-128 C,897,-128,911,-116,915,-100 C,931,-40,937,25,944,86 C,975,96,1006,109,1035,124 L,1173,16 C,1181,11,1190,7,1199,7 C,1233,7,1368,154,1392,186 C,1398,193,1401,200,1401,209 C,1401,218,1397,227,1391,234 C,1354,279,1318,323,1284,372 C,1300,401,1312,431,1323,463 L,1508,491 C,1524,494,1536,512,1536,527 Z"},trash:{advanceWidth:1408,commands:"M,512,800 C,512,818,498,832,480,832 L,416,832 C,398,832,384,818,384,800 L,384,224 C,384,206,398,192,416,192 L,480,192 C,498,192,512,206,512,224 M,768,800 C,768,818,754,832,736,832 L,672,832 C,654,832,640,818,640,800 L,640,224 C,640,206,654,192,672,192 L,736,192 C,754,192,768,206,768,224 M,1024,800 C,1024,818,1010,832,992,832 L,928,832 C,910,832,896,818,896,800 L,896,224 C,896,206,910,192,928,192 L,992,192 C,1010,192,1024,206,1024,224 M,1152,76 C,1152,28,1125,0,1120,0 L,288,0 C,283,0,256,28,256,76 L,256,1024 L,1152,1024 L,1152,76 M,480,1152 L,529,1269 C,532,1273,540,1279,546,1280 L,863,1280 C,868,1279,877,1273,880,1269 L,928,1152 M,1408,1120 C,1408,1138,1394,1152,1376,1152 L,1067,1152 L,997,1319 C,977,1368,917,1408,864,1408 L,544,1408 C,491,1408,431,1368,411,1319 L,341,1152 L,32,1152 C,14,1152,0,1138,0,1120 L,0,1056 C,0,1038,14,1024,32,1024 L,128,1024 L,128,72 C,128,-38,200,-128,288,-128 L,1120,-128 C,1208,-128,1280,-34,1280,76 L,1280,1024 L,1376,1024 C,1394,1024,1408,1038,1408,1056 Z"},file_alt:{advanceWidth:1536,commands:"M,1468,1156 L,1156,1468 C,1119,1505,1045,1536,992,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,-160 C,0,-213,43,-256,96,-256 L,1440,-256 C,1493,-256,1536,-213,1536,-160 L,1536,992 C,1536,1045,1505,1119,1468,1156 M,1024,1400 C,1041,1394,1058,1385,1065,1378 L,1378,1065 C,1385,1058,1394,1041,1400,1024 L,1024,1024 M,1408,-128 L,128,-128 L,128,1408 L,896,1408 L,896,992 C,896,939,939,896,992,896 L,1408,896 Z"},download_alt:{advanceWidth:1664,commands:"M,1280,192 C,1280,157,1251,128,1216,128 C,1181,128,1152,157,1152,192 C,1152,227,1181,256,1216,256 C,1251,256,1280,227,1280,192 M,1536,192 C,1536,157,1507,128,1472,128 C,1437,128,1408,157,1408,192 C,1408,227,1437,256,1472,256 C,1507,256,1536,227,1536,192 M,1664,416 C,1664,469,1621,512,1568,512 L,1104,512 L,968,376 C,931,340,883,320,832,320 C,781,320,733,340,696,376 L,561,512 L,96,512 C,43,512,0,469,0,416 L,0,96 C,0,43,43,0,96,0 L,1568,0 C,1621,0,1664,43,1664,96 M,1339,985 C,1329,1008,1306,1024,1280,1024 L,1024,1024 L,1024,1472 C,1024,1507,995,1536,960,1536 L,704,1536 C,669,1536,640,1507,640,1472 L,640,1024 L,384,1024 C,358,1024,335,1008,325,985 C,315,961,320,933,339,915 L,787,467 C,799,454,816,448,832,448 C,848,448,865,454,877,467 L,1325,915 C,1344,933,1349,961,1339,985 Z"},repeat:{advanceWidth:1536,commands:"M,1536,1280 C,1536,1306,1520,1329,1497,1339 C,1473,1349,1445,1344,1427,1325 L,1297,1196 C,1156,1329,965,1408,768,1408 C,345,1408,0,1063,0,640 C,0,217,345,-128,768,-128 C,997,-128,1213,-27,1359,149 C,1369,162,1369,181,1357,192 L,1220,330 C,1213,336,1204,339,1195,339 C,1186,338,1177,334,1172,327 C,1074,200,927,128,768,128 C,486,128,256,358,256,640 C,256,922,486,1152,768,1152 C,899,1152,1023,1102,1117,1015 L,979,877 C,960,859,955,831,965,808 C,975,784,998,768,1024,768 L,1472,768 C,1507,768,1536,797,1536,832 Z"},pencil:{advanceWidth:1536,commands:"M,363,0 L,256,0 L,256,128 L,128,128 L,128,235 L,219,326 L,454,91 M,886,928 C,886,922,884,916,879,911 L,337,369 C,332,364,326,362,320,362 C,307,362,298,371,298,384 C,298,390,300,396,305,401 L,847,943 C,852,948,858,950,864,950 C,877,950,886,941,886,928 M,832,1120 L,0,288 L,0,-128 L,416,-128 L,1248,704 M,1515,1024 C,1515,1058,1501,1091,1478,1115 L,1243,1349 C,1219,1373,1186,1387,1152,1387 C,1118,1387,1085,1373,1062,1349 L,896,1184 L,1312,768 L,1478,934 C,1501,957,1515,990,1515,1024 Z"},edit:{advanceWidth:1792,commands:"M,888,352 L,832,352 L,832,448 L,736,448 L,736,504 L,852,620 L,1004,468 M,1328,1072 C,1337,1063,1336,1048,1327,1039 L,977,689 C,968,680,953,679,944,688 C,935,697,936,712,945,721 L,1295,1071 C,1304,1080,1319,1081,1328,1072 M,1408,478 C,1408,491,1400,502,1388,507 C,1376,512,1363,510,1353,500 L,1289,436 C,1283,430,1280,422,1280,414 L,1280,288 C,1280,200,1208,128,1120,128 L,288,128 C,200,128,128,200,128,288 L,128,1120 C,128,1208,200,1280,288,1280 L,1120,1280 C,1135,1280,1150,1278,1165,1274 C,1176,1270,1188,1273,1197,1282 L,1246,1331 C,1254,1339,1257,1349,1255,1360 C,1253,1370,1246,1379,1237,1383 C,1200,1400,1160,1408,1120,1408 L,288,1408 C,129,1408,0,1279,0,1120 L,0,288 C,0,129,129,0,288,0 L,1120,0 C,1279,0,1408,129,1408,288 M,1312,1216 L,640,544 L,640,256 L,928,256 L,1600,928 M,1756,1084 C,1793,1121,1793,1183,1756,1220 L,1604,1372 C,1567,1409,1505,1409,1468,1372 L,1376,1280 L,1664,992 L,1756,1084 Z"},play:{advanceWidth:1408,commands:"M,1384,609 C,1415,626,1415,654,1384,671 L,56,1409 C,25,1426,0,1411,0,1376 L,0,-96 C,0,-131,25,-146,56,-129 Z"},pause:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,960,1408 C,925,1408,896,1379,896,1344 L,896,-64 C,896,-99,925,-128,960,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 M,640,1344 C,640,1379,611,1408,576,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,576,-128 C,611,-128,640,-99,640,-64 Z"},stop:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 Z"},resize_small:{advanceWidth:1536,commands:"M,768,576 C,768,611,739,640,704,640 L,256,640 C,221,640,192,611,192,576 C,192,559,199,543,211,531 L,355,387 L,23,55 C,17,49,13,40,13,32 C,13,24,17,15,23,9 L,137,-105 C,143,-111,152,-115,160,-115 C,168,-115,177,-111,183,-105 L,515,227 L,659,83 C,671,71,687,64,704,64 C,739,64,768,93,768,128 M,1523,1248 C,1523,1256,1519,1265,1513,1271 L,1399,1385 C,1393,1391,1384,1395,1376,1395 C,1368,1395,1359,1391,1353,1385 L,1021,1053 L,877,1197 C,865,1209,849,1216,832,1216 C,797,1216,768,1187,768,1152 L,768,704 C,768,669,797,640,832,640 L,1280,640 C,1315,640,1344,669,1344,704 C,1344,721,1337,737,1325,749 L,1181,893 L,1513,1225 C,1519,1231,1523,1240,1523,1248 Z"},eye_open:{advanceWidth:1792,commands:"M,1664,576 C,1493,312,1217,128,896,128 C,575,128,299,312,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,457,649,256,896,256 C,1143,256,1344,457,1344,704 C,1344,783,1323,861,1283,929 C,1439,849,1569,723,1664,576 M,944,960 C,944,934,922,912,896,912 C,782,912,688,818,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1792,576 C,1792,601,1784,624,1772,645 C,1588,947,1251,1152,896,1152 C,541,1152,204,947,20,645 C,8,624,0,601,0,576 C,0,551,8,528,20,507 C,204,205,541,0,896,0 C,1251,0,1588,204,1772,507 C,1784,528,1792,551,1792,576 Z"},eye_close:{advanceWidth:1792,commands:"M,555,201 C,379,280,232,415,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,561,517,426,633,342 M,944,960 C,944,934,922,912,896,912 C,782,912,688,819,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1307,1151 C,1307,1162,1301,1172,1291,1178 C,1270,1190,1176,1248,1158,1248 C,1146,1248,1136,1242,1130,1232 L,1076,1135 C,1017,1146,956,1152,896,1152 C,527,1152,218,949,20,645 C,7,625,0,600,0,576 C,0,551,7,527,20,507 C,135,327,298,177,492,89 C,482,72,448,18,448,2 C,448,-10,454,-20,464,-26 C,485,-38,580,-96,598,-96 C,609,-96,620,-90,626,-80 L,675,9 C,886,386,1095,765,1306,1142 C,1307,1144,1307,1149,1307,1151 M,1344,704 C,1344,732,1341,760,1336,788 L,1056,286 C,1229,352,1344,518,1344,704 M,1792,576 C,1792,602,1785,623,1772,645 C,1694,774,1569,899,1445,982 L,1382,870 C,1495,792,1590,691,1664,576 C,1508,334,1261,157,970,132 L,896,0 C,1197,0,1467,137,1663,362 C,1702,407,1741,456,1772,507 C,1785,529,1792,550,1792,576 Z"},folder_open:{advanceWidth:1920,commands:"M,1879,584 C,1879,629,1828,640,1792,640 L,704,640 C,616,640,498,586,440,518 L,104,122 C,88,104,73,80,73,56 C,73,11,124,0,160,0 L,1248,0 C,1336,0,1454,54,1512,122 L,1848,518 C,1864,536,1879,560,1879,584 M,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,216,1,207,1,199 L,6,205 L,343,601 C,424,697,579,768,704,768 L,1536,768 Z"},signin:{advanceWidth:1536,commands:"M,1184,640 C,1184,657,1177,673,1165,685 L,621,1229 C,609,1241,593,1248,576,1248 C,541,1248,512,1219,512,1184 L,512,896 L,64,896 C,29,896,0,867,0,832 L,0,448 C,0,413,29,384,64,384 L,512,384 L,512,96 C,512,61,541,32,576,32 C,593,32,609,39,621,51 L,1165,595 C,1177,607,1184,623,1184,640 M,1536,992 C,1536,1151,1407,1280,1248,1280 L,928,1280 C,883,1280,896,1212,896,1184 C,896,1147,935,1152,960,1152 L,1248,1152 C,1336,1152,1408,1080,1408,992 L,1408,288 C,1408,200,1336,128,1248,128 L,928,128 C,883,128,896,60,896,32 C,896,15,911,0,928,0 L,1248,0 C,1407,0,1536,129,1536,288 Z"},upload_alt:{advanceWidth:1664,commands:"M,1280,64 C,1280,29,1251,0,1216,0 C,1181,0,1152,29,1152,64 C,1152,99,1181,128,1216,128 C,1251,128,1280,99,1280,64 M,1536,64 C,1536,29,1507,0,1472,0 C,1437,0,1408,29,1408,64 C,1408,99,1437,128,1472,128 C,1507,128,1536,99,1536,64 M,1664,288 C,1664,341,1621,384,1568,384 L,1141,384 C,1114,310,1043,256,960,256 L,704,256 C,621,256,550,310,523,384 L,96,384 C,43,384,0,341,0,288 L,0,-32 C,0,-85,43,-128,96,-128 L,1568,-128 C,1621,-128,1664,-85,1664,-32 M,1339,936 C,1349,959,1344,987,1325,1005 L,877,1453 C,865,1466,848,1472,832,1472 C,816,1472,799,1466,787,1453 L,339,1005 C,320,987,315,959,325,936 C,335,912,358,896,384,896 L,640,896 L,640,448 C,640,413,669,384,704,384 L,960,384 C,995,384,1024,413,1024,448 L,1024,896 L,1280,896 C,1306,896,1329,912,1339,936 Z"},save:{advanceWidth:1536,commands:"M,384,0 L,384,384 L,1152,384 L,1152,0 M,1280,0 L,1280,416 C,1280,469,1237,512,1184,512 L,352,512 C,299,512,256,469,256,416 L,256,0 L,128,0 L,128,1280 L,256,1280 L,256,864 C,256,811,299,768,352,768 L,928,768 C,981,768,1024,811,1024,864 L,1024,1280 C,1044,1280,1083,1264,1097,1250 L,1378,969 C,1391,956,1408,915,1408,896 L,1408,0 M,896,928 C,896,911,881,896,864,896 L,672,896 C,655,896,640,911,640,928 L,640,1248 C,640,1265,655,1280,672,1280 L,864,1280 C,881,1280,896,1265,896,1248 L,896,928 M,1536,896 C,1536,949,1506,1022,1468,1060 L,1188,1340 C,1150,1378,1077,1408,1024,1408 L,96,1408 C,43,1408,0,1365,0,1312 L,0,-32 C,0,-85,43,-128,96,-128 L,1440,-128 C,1493,-128,1536,-85,1536,-32 Z"},undo:{advanceWidth:1536,commands:"M,1536,640 C,1536,1063,1191,1408,768,1408 C,571,1408,380,1329,239,1196 L,109,1325 C,91,1344,63,1349,40,1339 C,16,1329,0,1306,0,1280 L,0,832 C,0,797,29,768,64,768 L,512,768 C,538,768,561,784,571,808 C,581,831,576,859,557,877 L,420,1015 C,513,1102,637,1152,768,1152 C,1050,1152,1280,922,1280,640 C,1280,358,1050,128,768,128 C,609,128,462,200,364,327 C,359,334,350,338,341,339 C,332,339,323,336,316,330 L,179,192 C,168,181,167,162,177,149 C,323,-27,539,-128,768,-128 C,1191,-128,1536,217,1536,640 Z"},paste:{advanceWidth:1792,commands:"M,768,-128 L,768,1024 L,1152,1024 L,1152,608 C,1152,555,1195,512,1248,512 L,1664,512 L,1664,-128 M,1024,1312 C,1024,1295,1009,1280,992,1280 L,288,1280 C,271,1280,256,1295,256,1312 L,256,1376 C,256,1393,271,1408,288,1408 L,992,1408 C,1009,1408,1024,1393,1024,1376 L,1024,1312 M,1280,640 L,1280,939 L,1579,640 M,1792,512 C,1792,565,1762,638,1724,676 L,1316,1084 C,1305,1095,1293,1104,1280,1112 L,1280,1440 C,1280,1493,1237,1536,1184,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,96 C,0,43,43,0,96,0 L,640,0 L,640,-160 C,640,-213,683,-256,736,-256 L,1696,-256 C,1749,-256,1792,-213,1792,-160 Z"},folder_open_alt:{advanceWidth:1920,commands:"M,1781,605 C,1781,590,1772,577,1763,566 L,1469,203 C,1435,161,1365,128,1312,128 L,224,128 C,202,128,171,135,171,163 C,171,178,180,191,189,203 L,483,566 C,517,607,587,640,640,640 L,1728,640 C,1750,640,1781,633,1781,605 M,640,768 C,549,768,442,717,384,646 L,128,331 L,128,1184 C,128,1237,171,1280,224,1280 L,544,1280 C,597,1280,640,1237,640,1184 L,640,1120 C,640,1067,683,1024,736,1024 L,1312,1024 C,1365,1024,1408,981,1408,928 L,1408,768 M,1909,605 C,1909,629,1904,652,1894,673 C,1864,737,1796,768,1728,768 L,1536,768 L,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,101,101,0,224,0 L,1312,0 C,1402,0,1511,52,1568,122 L,1863,485 C,1890,519,1909,561,1909,605 Z"}}}},{}],13:[function(t,e,n){var i=t("./font.json"),r=t("../theme"),o=t("../utils").style;function s(t,e,n,s){var a=document.createElement("button");o(a,{padding:"0.2em 0.4em",margin:"0em",background:"none",outline:"none",fontSize:"16px",border:"none"});var l=document.createElement("canvas"),u=l.getContext("2d");a.appendChild(l),this.ctx=u,this.dom=a,this.canvas=l;var d=this;this.size=t;var h=1;this.resize=function(){h=window.devicePixelRatio;var n=t,o=i.fonts[e];l.height=n*h,l.style.height=n+"px";var s=n/i.unitsPerEm,a=o.advanceWidth*s+.5|0;a+=2,n+=2,l.width=a*h,l.style.width=a+"px",u.fillStyle=r.d,d.draw()},s&&s.on("resize",this.resize),this.setSize=function(e){t=e,this.resize()},this.setIcon=function(t){d.icon=t,i.fonts[t]||console.error("Font icon not found!"),this.resize()},this.onClick=function(t){a.addEventListener("click",t)};var c,f=500;this.onLongHold=function(t){function e(e){e.preventDefault(),e.stopPropagation(),c=setTimeout(function(){c&&t()},f)}function n(){clearTimeout(c)}a.addEventListener("mousedown",e),a.addEventListener("touchstart",e),a.addEventListener("mouseup",n),a.addEventListener("mouseout",n),a.addEventListener("touchend",n)},this.setTip=function(t){t};r.b,r.c;var p=r.b;a.style.background="none",o(a,{border:"1px solid transparent"}),a.addEventListener("mousedown",function(){a.style.background=p}),a.addEventListener("mouseup",function(){a.style.background="none"}),e&&this.setIcon(e)}s.prototype.CMD_MAP={M:"moveTo",L:"lineTo",Q:"quadraticCurveTo",C:"bezierCurveTo",Z:"closePath"},s.prototype.draw=function(){if(this.icon){var t=this.ctx,e=i.fonts[this.icon],n=this.size,o=window.devicePixelRatio,s=n/i.unitsPerEm*o,a=e.commands.split(" ");if(t.save(),t.clearRect(0,0,this.canvas.width*o,this.canvas.height*o),this.dropshadow){t.save(),t.fillStyle=r.b,t.translate(1.5*o,1.5*o),t.scale(s,-s),t.translate(0,-i.ascender),t.beginPath();for(var l=0,u=a.length;l<u;l++){var d=(h=a[l].split(",")).slice(1);t[this.CMD_MAP[h[0]]].apply(t,d)}t.fill(),t.restore()}t.scale(s,-s),t.translate(0,-i.ascender),t.beginPath();for(l=0,u=a.length;l<u;l++){var h;d=(h=a[l].split(",")).slice(1);t[this.CMD_MAP[h[0]]].apply(t,d)}t.fill(),t.restore()}},e.exports=s},{"../theme":7,"../utils":11,"./font.json":12}],14:[function(t,e,n){var i=t("../theme"),r=t("do.js"),o=t("../utils").style,s=t("../utils").handleDrag;e.exports=function(t){var e=void 0===(t=t||{}).min?-1/0:t.min,n=void 0===t.max?1/0:t.max,a=t.step||.1,l=void 0===t.precision?3:t.precision,u=document.createElement("input");o(u,{textAlign:"center",fontSize:"12px",padding:"1px",cursor:"ns-resize",width:"50px",margin:0,appearance:"none",outline:"none",border:0,background:"none",color:i.d});var d,h=this,c=0;function f(){h.onChange.fire(c)}this.onChange=new r,u.addEventListener("change",function(t){c=parseFloat(u.value,10),f()}),s(u,function(t){d=c},function(t){var i=t.dx,r=t.dy,o=1*a;c=d+i*o+r*-o,c=Math.max(e,c),c=Math.min(n,c),h.onChange.fire(c,!0)},function(t){t.moved?f():u.focus()}),this.dom=u,this.setValue=function(t){c=t},this.paint=function(){null!=c&&(u.value=c.toFixed(l))}}},{"../theme":7,"../utils":11,"do.js":1}],15:[function(t,e,n){var i=t("do.js"),r=t("../utils"),o={position:"absolute",background:"-webkit-gradient(linear, left top, right top, color-stop(0, rgb(29,29,29)), color-stop(0.6, rgb(50,50,50)) )",border:"1px solid rgb(29, 29, 29)",textAlign:"center",cursor:"pointer"},s={background:"-webkit-gradient(linear, left top, right top, color-stop(0.2, rgb(88,88,88)), color-stop(0.6, rgb(64,64,64)) )",border:"1px solid rgb(25,25,25)",position:"relative",borderRadius:"6px"};e.exports=function(t,e,n){var a=e||12,l=a+6,u=document.createElement("div");r.style(u,o);var d=t-2;u.style.height=d+"px",u.style.width=l+"px";var h=document.createElement("div");r.style(h,s),h.style.width=a+"px",h.style.height=t/2,h.style.top=0,h.style.left="3px",u.appendChild(h);var c,f,p,m=this;function C(t){t.preventDefault();var e=d-c,n=(t.clientY-p)/e;n>1&&(n=1),n<0&&(n=0),m.setPosition(n),m.onScroll.fire("scrollto",n)}function g(t){C(t),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",g,!1)}this.setLength=function(t){t=Math.max(Math.min(1,t),0),t*=d,c=Math.max(t,25),h.style.height=c+"px"},this.setHeight=function(e){d=(t=e)-2,u.style.height=d+"px"},this.setPosition=function(t){t=Math.max(Math.min(1,t),0),f=t*(d-c),h.style.top=f+"px"},this.setLength(1),this.setPosition(0),this.onScroll=new i,u.addEventListener("mousedown",function(t){t.preventDefault(),t.target==h?(p=t.clientY,document.addEventListener("mousemove",C,!1),document.addEventListener("mouseup",g,!1)):t.clientY<f?m.onScroll.fire("pageup"):t.clientY>f+c&&m.onScroll.fire("pagedown")},!1),this.dom=u}},{"../utils":11,"do.js":1}]},{},[9]);var KeyboardState=function(){var t=this;this.k={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",27:"ESC",32:"SPACE",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",186:";",187:"=",188:",",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]",222:"'"},this.status={},this.keyName=function(t){return null!=this.k[t]?this.k[t]:String.fromCharCode(t)},this.onKeyUp=function(e){var n=t.keyName(e.keyCode);t.status[n]&&(t.status[n]={down:!1,pressed:!0,up:!1,released:!0,heldDown:!1,downUpdated:!0,upUpdated:!1})},this.onKeyDown=function(e){var n=t.keyName(e.keyCode);t.status[n]?t.status[n].released&&(t.status[n].downUpdated=!1,t.status[n].released=!1):t.status[n]={down:!1,pressed:!0,up:!1,released:!1,heldDown:!1,downUpdated:!1,upUpdated:!0}}};KeyboardState.prototype=Object.assign(Object.create({}),{constructor:KeyboardState,init:function(){this.status={},document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1)},dispose:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)},update:function(){for(var t in this.status)this.status[t].downUpdated?this.status[t].down=!1:(this.status[t].down=!0,this.status[t].heldDown=!0,this.status[t].downUpdated=!0),this.status[t].pressed&&!this.status[t].upUpdated?(this.status[t].up=!0,this.status[t].upUpdated=!0):this.status[t].up=!1},wasPressed:function(t){return t=t.toUpperCase(),this.status[t]&&this.status[t].down},wasPressedRepeat:function(t){return t=t.toUpperCase(),this.status[t]&&this.status[t].pressed},isUp:function(t){return t=t.toUpperCase(),this.status[t]&&this.status[t].up},isReleased:function(t){return t=t.toUpperCase(),this.status[t]&&this.status[t].released},isHeldDown:function(t){return t=t.toUpperCase(),this.status[t]&&this.status[t].heldDown}});var MouseState=function(){var t=this;this.status={},this.mouseName=function(t){return["left","mid","right"][t]},this.onMouseUp=function(e){var n=t.mouseName(e.button);t.status[n]&&(t.status[n]={down:!1,pressed:!0,up:!1,released:!0,heldDown:!1,downUpdated:!0,upUpdated:!1})},this.onMouseDown=function(e){var n=t.mouseName(e.button);t.status[n]?t.status[n].released&&(t.status[n].downUpdated=!1,t.status[n].released=!1):t.status[n]={down:!1,pressed:!0,up:!1,released:!1,heldDown:!1,downUpdated:!1,upUpdated:!0}},this.onMouseMove=function(e){var n;t.move=!0,clearTimeout(n),n=setTimeout(function(){t.move=!1},500)}};MouseState.prototype=Object.assign(Object.create({}),{constructor:MouseState,init:function(){this.status={},document.addEventListener("mousedown",this.onMouseDown,!1),document.addEventListener("mouseup",this.onMouseUp,!1),document.addEventListener("mousemove",this.onMouseMove,!1)},dispose:function(){document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)},update:function(){for(var t in this.status)this.status[t].downUpdated?this.status[t].down=!1:(this.status[t].down=!0,this.status[t].heldDown=!0,this.status[t].downUpdated=!0),this.status[t].pressed&&!this.status[t].upUpdated?(this.status[t].up=!0,this.status[t].upUpdated=!0):this.status[t].up=!1},wasPressed:function(t){return this.status[t]&&this.status[t].down},wasPressedRepeat:function(t){return this.status[t]&&this.status[t].pressed},isUp:function(t){return this.status[t]&&this.status[t].up},isReleased:function(t){return this.status[t]&&this.status[t].released},isHeldDown:function(t){return this.status[t]&&this.status[t].heldDown},isMoving:function(){return 1==this.move},isNotMoving:function(){return 1!=this.move}});